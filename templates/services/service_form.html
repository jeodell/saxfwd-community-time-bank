<!-- prettier-ignore -->
{% extends 'base.html' %}
{% block title %}{% if service %}Edit Service{% else %}Offer a Service{% endif %} - Saxapahaw Timebank{% endblock %}
{% block content %}
<div class="max-w-lg mx-auto flex items-center justify-center p-8">
  <div class="bg-white p-8 shadow rounded-lg px-12">
    <!-- Header -->
    <div class="text-center mb-6">
      <h2 class="text-3xl font-extrabold text-gray-900">
        {% if service %}Edit Service{% else %}Offer a Service{% endif %}
      </h2>
      <p class="mt-2 text-sm text-gray-500">
        {% if service %}Update your service details below.{% else %}Share your skills with the community and earn time
        credits.{% endif %}
      </p>
    </div>

    <!-- Form -->
    <form method="post" class="mt-8 space-y-6">
      {% csrf_token %}

      <!-- Title -->
      <div class="space-y-2">
        <label for="id_title" class="text-sm font-semibold text-gray-700">Title <span class="text-red-500">*</span></label>
        <input type="text" name="title" id="id_title" value="{{ form.title.value|default:'' }}" required
          class="w-full px-4 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white shadow-sm transition duration-150 ease-in-out">
        {% if form.title.errors %}
        <p class="mt-2 text-sm text-red-600">{{ form.title.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Category -->
      <div class="space-y-2">
        <label for="id_category" class="text-sm font-semibold text-gray-700">Category <span class="text-red-500">*</span></label>
        <div class="relative">
          <select name="category" id="id_category" required
            class="w-full pl-4 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white shadow-sm transition duration-150 ease-in-out appearance-none">
            <option value="">Select a category</option>
            {% for category in categories %}
            <option value="{{ category.id }}" {% if form.category.value|stringformat:"s" == category.id|stringformat:"s" %}selected{% endif %}>
              {{ category.name }}
            </option>
            {% endfor %}
          </select>
          <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
            <i class="fas fa-chevron-down text-gray-400 text-sm"></i>
          </div>
        </div>
        {% if form.category.errors %}
        <p class="mt-2 text-sm text-red-600">{{ form.category.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Description -->
      <div class="space-y-2">
        <label for="id_description" class="text-sm font-semibold text-gray-700">Description <span class="text-red-500">*</span></label>
        <textarea name="description" id="id_description" rows="4" required
          class="w-full px-4 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white shadow-sm transition duration-150 ease-in-out">{{ form.description.value|default:'' }}</textarea>
        {% if form.description.errors %}
        <p class="mt-2 text-sm text-red-600">{{ form.description.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Submit Button -->
      <div>
        <button
          type="submit"
          class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
        >
          <i class="fas {% if service %}fa-save{% else %}fa-plus-circle{% endif %} mr-2"></i>
          {% if service %}Save Changes{% else %}Create Service{% endif %}
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
